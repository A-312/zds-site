{% extends "tutorialv2/base.html" %}
{% load append_to_get %}
{% load date %}
{% load i18n %}


{% block title %}
    {% if contents != None %}
        {% trans "Contenus de" %} {{ usr.username }}
    {% elif tutorials != None %}
        {% trans "Tutoriels de" %} {{ usr.username }}
    {% elif articles != None %}
        {% trans "Articles de" %} {{ usr.username }}
    {% endif %}
{% endblock %}



{% block breadcrumb_base %}
    {% if contents != None %}
        <li><a href="{% url "content:index" usr.pk %}">{% trans "Contenus de" %} {{ usr.username }}</a></li>
    {% elif tutorials != None %}
        <li><a href="{% url "tutorial:list" %}">{% trans "Tutoriels" %}</a></li>
        <li><a href="{% url "content:find-tutorial" usr.pk %}">{% trans "Tutoriels de" %} {{ usr.username }}</a></li>
    {% elif articles != None %}
        <li><a href="{% url "article:list" %}">{% trans "Articles" %}</a></li>
        <li><a href="{% url "content:find-article" usr.pk %}">{% trans "Articles de" %} {{ usr.username }}</a></li>
    {% endif %}
{% endblock %}



{% block content_out %}
    <section class="full-content-wrapper">
        <h2 class="ico-after ico-tutorials">
            {% block headline %}
                {% if contents != None %}
                    {% trans "Contenus de" %} {{ usr.username }}
                {% elif tutorials != None %}
                    {% trans "Tutoriels de" %} {{ usr.username }}
                {% elif articles != None %}
                    {% trans "Articles de" %} {{ usr.username }}
                {% endif %}
            {% endblock %}
        </h2>

        {% include "misc/paginator.html" with position="top" %}

        {% if contents != None %}
            <div class="tutorial-list clearfix">
                {% for content in contents %}
                    {% include "tutorialv2/includes/content_item.part.html" %}
                {% endfor %}
            </div>
        {% elif tutorials != None %}
            <div class="tutorial-list clearfix">
                {% for tutorial in tutorials %}
                    {% include "tutorialv2/includes/content_item.part.html" with content=tutorial %}
                {% endfor %}
            </div>
        {% elif articles != None %}
            <div class="tutorial-list clearfix">
                {% for article in articles %}
                    {% include "tutorialv2/includes/content_item.part.html" with content=article %}
                {% endfor %}
            </div>
        {% endif %}

        {% if not articles and not tutorials and not contents %}
            <p>{% trans "Il n'y a aucun contenu pour cet utilisateur." %}</p>
        {% endif %}

        {% include "misc/paginator.html" with position="bottom" %}

    </section>
{% endblock %}



{% block sidebar_new %}
    <a href="{% url "content:create" %}" class="new-btn ico-after more blue">
        {% trans "Nouveau contenu" %}
    </a>

    <a href="{% url "content:import-new" %}" class="new-btn ico-after import blue">
        {% trans "Importer un nouveau contenu" %}
    </a>
{% endblock %}

{% block sidebar_blocks %}
    <div class="mobile-menu-bloc mobile-all-links mobile-show-ico" data-title="Actions">
        <div class="mobile-menu-bloc mobile-all-links" data-title="Filtrer">
            <h3>Filtrer</h3>
            <ul>
                {% for current_filter in filters %}
                    <li><a href="{% append_to_get filter=current_filter.key %}" class="ico-after {{ current_filter.icon }} {% if filter == current_filter.key %}selected{% endif %}">{{ current_filter.text }}</a> </li>
                {% endfor %}
            </ul>
        </div>
        <div class="mobile-menu-bloc mobile-all-links" data-title="Trier">
            <h3>Trier</h3>
            <ul>
                {% for current_sort in sorts %}
                    <li><a href="{% append_to_get sort=current_sort.key %}" class="ico-after gear {% if sort == current_sort.key %}selected{% endif %}">{{ current_sort.text }}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}