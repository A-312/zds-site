{% load humanize %}



<div class="topic navigable-elem
    {% if topic.is_sticky %}
        topic-sticky
    {% endif %}
    {% if topic.is_locked %}
        topic-locked
    {% endif %}
    {% if topic.is_solved %}
        topic-solved
    {% endif %}
    {% if user.is_authenticated and topic.never_read %}
        unread
    {% endif %}">

    <div class="topic-infos">
        
    </div>
    <div class="topic-description">
        <a href="{{ topic.get_absolute_url }}" class="navigable-link">
            <span class="topic-title">{{ topic.title }}</span>
            <span class="topic-subtitle">{{ topic.subtitle }}</span>
        </a>
        <p class="topic-members">
            Créé par
            <em>
                {% include "misc/member_item.part.html" with member=topic.author %}
            </em>
        </p>
    </div>
    <p class="topic-answers">
        {% if topic.get_post_count > 1 %}
            {{ topic.get_post_count|add:"-1" }} réponse{% if topic.get_post_count > 2 %}s{% endif %}
        {% endif %}
    </p>
    <p class="topic-last-answer">
        {% with answer=topic.get_last_answer %}
            {% if answer %}
                <a href="{{ answer.get_absolute_url }}">
                    Dernière réponse <br>
                    {{ answer.pubdate|naturaltime }}
                </a>
                <br>
                par
                {% include "misc/member_item.part.html" with member=answer.author %}
            {% else %}
                <span class="topic-no-last-answer">Aucune réponse</span>
            {% endif %}
        {% endwith %}
    </p>
</div>